<script setup>
import {ref, computed } from 'vue'
import { RouterLink, RouterView } from 'vue-router'
const currentLang = ref('ru')

// 2. –°–æ–∑–¥–∞–µ–º —Å–ª–æ–≤–∞—Ä—å –ø—Ä—è–º–æ –∑–¥–µ—Å—å
const messages = {
  ru: {
    dashboard: '–î–∞—à–±–æ—Ä–¥',
    machines: '–¢–ê (–ê–ø–ø–∞—Ä–∞—Ç—ã)',
    calendar: '–ö–∞–ª–µ–Ω–¥–∞—Ä—å –¢–û',
    schedule: '–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç',
    reports: '–û—Ç—á–µ—Ç—ã',
    login: '–í—Ö–æ–¥',
    logout: '–í—ã—Ö–æ–¥',
    switchLang: 'Switch to English' // –¢–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ
  },
  en: {
    dashboard: 'Dashboard',
    machines: 'Vending Machines',
    calendar: 'Maintenance Calendar',
    schedule: 'Work Schedule',
    reports: 'Reports',
    login: 'Login',
    logout: 'Logout',
    switchLang: '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –†—É—Å—Å–∫–∏–π'
  }
}

// 3. –í—ã—á–∏—Å–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç
const text = computed(() => {
  return messages[currentLang.value]
})

// 4. –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
const toggleLang = () => {
  currentLang.value = currentLang.value === 'ru' ? 'en' : 'ru'
  console.log("–Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞:", currentLang.value)
}
</script>

<template>
  <div class="app-container">
    <nav class="sidebar">
      <div class="logo">Vending System</div>

      <button class="lang-btn" @click="toggleLang">
        {{ text.switchLang }}
      </button>

      <RouterLink to="/dashboard">üìä {{ text.dashboard }}</RouterLink>
      <RouterLink to="/machines">ü§ñ {{ text.machines }}</RouterLink>
      <RouterLink to="/calendar">üìÖ {{ text.calendar }}</RouterLink>
      <RouterLink to="/schedule">üë∑ {{ text.schedule }}</RouterLink>
      <RouterLink to="/reports">üìë {{ text.reports }}</RouterLink>
      <RouterLink to="/login" class="logout">üö™ {{ text.logout }}</RouterLink>
    </nav>

    <main class="content">
      <RouterView />
    </main>
  </div>
</template>

<style>

.lang-btn {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.5);
  color: white;
  padding: 8px;
  margin-bottom: 20px;
  cursor: pointer;
  border-radius: 5px;
}

/* –ü—Ä–æ—Å—Ç–æ–π CSS, —Ç—ã –µ–≥–æ –∑–Ω–∞–µ—à—å */
.app-container {
  display: flex;
  height: 100vh; /* –ù–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
  font-family: Arial, sans-serif;
}

.page h1 {
  color: #040c13; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Ü–≤–µ—Ç, —Ö–æ—Ä–æ—à–æ –≤–∏–¥–Ω–æ */
}

.sidebar {
  width: 250px;
  background-color: #2c3e50;
  color: white;
  padding: 20px;
  display: flex;
  flex-direction: column;
}

.logo {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 30px;
  text-align: center;
}

/* –°—Å—ã–ª–∫–∏ –º–µ–Ω—é */
a {
  color: white;
  text-decoration: none;
  padding: 10px;
  margin-bottom: 5px;
  border-radius: 5px;
  transition: 0.3s;
}

a:hover {
  background-color: #42b983;
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Router —Å–∞–º –¥–æ–±–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç –∫–ª–∞—Å—Å) */
.router-link-active {
  background-color: #42b983;
  font-weight: bold;
}

.logout {
  margin-top: auto; /* –ü—Ä–∏–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –≤—ã—Ö–æ–¥–∞ –∫ –Ω–∏–∑—É */
  background-color: #c0392b;
}

.content {
  flex-grow: 1; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –º–µ—Å—Ç–æ */
  padding: 20px;
  background-color: #f4f4f4;
  overflow-y: auto; /* –ü—Ä–æ–∫—Ä—É—Ç–∫–∞, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–Ω–æ–≥–æ */
}
</style>